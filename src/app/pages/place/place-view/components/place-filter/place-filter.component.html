<div class="place-filter">
    <div id="block">
        <!-- Pays, Place, ville, starsRate, rayon-->
        <div id="block1">
            <!-- Pays, Place, ville -->
            <div id= 'block1-line1' class = 'block1-line'>

        

                <mat-form-field id='country-form-field' class='form-field'>
                    <mat-label>Pays:</mat-label>
                    <mat-select [(value)]="country_id" name='countrySelection' (selectionChange)="onCountryChange()">
                        <mat-option></mat-option>
                        <mat-option *ngFor="let country of countries.data" value="{{country.id}}">{{country.attributes.name}}</mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field id='place-form-field' class='form-field'>
                    <mat-icon matPrefix>search</mat-icon>
                    <input type="text" 
                        placeholder="Rechercher une place"
                        matInput 
                        [formControl]="placeCtrl"
                        [matAutocomplete]="auto"
                        [(ngModel)]="place" 
                        (input)="onPlaceChange($event)">
                        <mat-autocomplete #auto="matAutocomplete">
                            <mat-option *ngFor="let place of filteredPlacesOptions | async" [value]="place.attributes.name">
                                {{place.attributes.name}}
                            </mat-option>
                        </mat-autocomplete>
                </mat-form-field>

                <mat-form-field id='town-form-field' class='form-field'>
                    <mat-icon matPrefix>place</mat-icon>
                    <input type="text" matInput placeholder="Saisissez une ville" [(ngModel)]="town" (input)="onTownChange($event)">
                </mat-form-field>
            </div>
            <!-- Stars et Rayon-->
            <div id='block1-line2' class = 'block1-line'>

                <!-- Stars -->
                <div id='stars-form-field' class='form-field'>
                    <mat-card>
                        <mat-card-title class='form-field-label'> Stars:</mat-card-title>
                        <mat-card-content>
                            <neo-starsbox 
                                typeCheckbox="checkbox" 
                                (starsboxEventEmitter)="onStarsboxEvent($event)"> 
                            </neo-starsbox>
                            <mat-checkbox 
                                [(ngModel)]="isNonGenius" 
                                (ngModelChange)="onIsNonGeniusChange($event)">
                                Non-genius places
                            </mat-checkbox>
                        </mat-card-content>
                    </mat-card>
                </div>
                
                <!--
                <div id='stars-form-field' class='form-field'>
                    <neo-starsbox typeCheckbox="checkbox" (starsboxEventEmitter)="onStarsboxEvent($event)"></neo-starsbox>
                </div>-->
                
                 <!-- Rayon -->
                <div id='radius-form-field' class='form-field'>
                    <mat-card>
                    <mat-card-title class='form-field-label'> Rayon:</mat-card-title>
                        <mat-card-content>
                            <mat-slider
                                thumbLabel tickInterval="1"
                                    
                                [max]="radiusMin"
                                [min]="radiusMax"
                                [step]="radiusStep"
                                [(ngModel)]="radius"
                                (change)="onRadiusChange($event)"
                                >
                            </mat-slider>
                        </mat-card-content>
                        <mat-card-subtitle> {{radius}} 
                            km </mat-card-subtitle>
                    </mat-card>
                </div>
            </div>
            <div id='block1-line3' class = 'block1-line'>
                <button id='button-clear' mat-stroked-button (click)="onClear()">Refresh</button>
                <button id='button-submit' mat-stroked-button (click)="onSubmit()">actualiser la liste</button>
            </div>
            
        </div>

<!---
<mat-tab-group>
  <mat-tab label="First"> Content 1 </mat-tab>
  <mat-tab label="Second"> Content 2 </mat-tab>
  <mat-tab label="Third"> Content 3 </mat-tab>
</mat-tab-group>
-->

        <!-- Categories et leurs tags-->
        <div id='block2'>
            <!-- Categories -->
            <div id='block2-categories'>
                <mat-tab-group [selectedIndex]="category"
                (selectedIndexChange)="onCategoryChange($event)">
                    <mat-tab *ngFor="let category of categories; let index = index" label='{{category}}'>
                        Contents for {{category}}
                    </mat-tab>
                </mat-tab-group>
            </div>
            <!-- tags de la catÃ©gorie choisie -->
            <div id='block2-tags'>
                <div *ngIf="!hashtags" class="warning">{{ message }}</div>
                    <div *ngIf="hashtags" class="checkbox">
                    <div *ngFor="let tag of hashtags.data">
                        <div>
                            <input id="{{tag.attributes.name }}" type="checkbox" (change)="checkbox($event, tag)">
                            <label for="{{tag.attributes.name}}">{{tag.attributes.name}}</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>



    </div>
</div>
